<app-navbar></app-navbar>

<div class="container">
    <div class="row">
      <main class="col-sm-9 offset-sm-3 col-md-10 offset-md-2 pt-3">
        <h1></h1>

        <mat-toolbar>
            <span>Search by Check  </span>
        </mat-toolbar>
        
        <div class="container">
    
            <div class="example-header">
          
              <form [formGroup]="checkNumberForm">
                  <div class="row">
                    <div class="col-md-2">
                    <!--    <div  class="col-md-12 form-group form-black label-floating is-empty gap">
                                <label style="padding-left: 5px;" for="bidTypeNnumberSelect2">Bid Number</label>
          
                              
                        </div>  -->
          
                        <mat-form-field class="gap" >
                            <input matInput formControlName="checkNumber"  placeholder="Check Number">
                        </mat-form-field>  
          
                    </div>
          
                    <div class="new-po form-group col-md-2">
                          <button [disabled]="checkNumberForm.pristine" mat-button (click)="search()" type="submit"  class="mat-flat-button btn-success insert-button">Search</button>  
                    </div>
                       
                     
                    
                    </div>  
                    </form>
          
          <div class="panel-body">            
          <div class="card-content">
            <div [hidden] = "!enablePoList">
          
           
                 
                <mat-table #table [dataSource]="poDataSource" matSort>
          
                    <ng-container matColumnDef="bidNumber">
                        <mat-header-cell class="pull-left" fxFlex="150px" *matHeaderCellDef mat-sort-header> Bid Number </mat-header-cell>
                        <mat-cell fxFlex="150px" *matCellDef="let row"> {{row.bidNumber}} </mat-cell>
                      </ng-container>
          
                    <ng-container matColumnDef="paymentCheckNum">
                        <mat-header-cell class="pull-left" fxFlex="150px" *matHeaderCellDef mat-sort-header> Check Number </mat-header-cell>
                        <mat-cell fxFlex="150px" *matCellDef="let row"> {{row.paymentCheckNum}} </mat-cell>
                      </ng-container>
          
                      <ng-container matColumnDef="dealerName">
                          <mat-header-cell fxFlex="325px" *matHeaderCellDef mat-sort-header> Vendor </mat-header-cell>
                          <mat-cell fxFlex="325px" *matCellDef="let row">{{row.dealerName}}</mat-cell>
                        </ng-container>
              
                       <ng-container matColumnDef="POS">
                          <mat-header-cell fxFlex="200px" *matHeaderCellDef mat-sort-header>Purchase Order Count</mat-header-cell>
                          <mat-cell fxFlex="200px" *matCellDef="let row"> {{row.POS}} </mat-cell>
                        </ng-container>
              
                 
              
                  <ng-container matColumnDef="AdminFee">
                    <mat-header-cell fxFlex="200px" *matHeaderCellDef mat-sort-header>Payment Fee Total </mat-header-cell>
                    <mat-cell fxFlex="200px" *matCellDef="let row">{{row.AdminFee | currency}}</mat-cell>
                  </ng-container>
          
                 
                  <mat-header-row *matHeaderRowDef="displayColsGrouping"></mat-header-row>
                  <mat-row *matRowDef="let row; columns: displayColsGrouping"  [ngClass]="{'highlight': selectedRowIndex == row.id}" (click)="onRowClicked(row)"></mat-row>
              
                </mat-table>
                     
              <br>
           
          
             
          
          </div>          
          
          </div>
          </div>
          
          
          <div [hidden] = "!enableItemList"  class="panel panel-default">
              <div class="panel-heading">
                <h3 class="panel-title">Payment Items</h3>
            
              </div>
              <div class="panel-body">
                  <mat-table *ngIf="poPaymentList"  #table [dataSource]="poPaymentList" matSort>
          
                    
            
                      <ng-container matColumnDef="bidNumber">
                          <mat-header-cell class="pull-left" fxFlex="100px"  *matHeaderCellDef mat-sort-header>Bid Number </mat-header-cell>
                          <mat-cell fxFlex="100px" *matCellDef="let itemList"> {{itemList.bidNumber}} </mat-cell>
                      </ng-container>
                        
                      <ng-container matColumnDef="poNumber">
                          <mat-header-cell class="pull-left" fxFlex="125px"   *matHeaderCellDef mat-sort-header>Po Number</mat-header-cell>
                          <mat-cell fxFlex="125px" *matCellDef="let itemList"> {{itemList.poNumber}} </mat-cell>
                      </ng-container>
          
                      <ng-container matColumnDef="checkNumber">
                          <mat-header-cell class="pull-left" fxFlex="125px"   *matHeaderCellDef mat-sort-header>Check Number</mat-header-cell>
                          <mat-cell fxFlex="125px" *matCellDef="let itemList"> {{itemList.paymentCheckNum}} </mat-cell>
                      </ng-container>
          
                      <ng-container matColumnDef="cityAgency">
                          <mat-header-cell class="pull-left" fxFlex="200px"   *matHeaderCellDef mat-sort-header>Purchaser</mat-header-cell>
                          <mat-cell fxFlex="200px" *matCellDef="let itemList"> {{itemList.cityAgency}} </mat-cell>
                      </ng-container>
          
                      <ng-container matColumnDef="dealerName">
                          <mat-header-cell class="pull-left" fxFlex="200px"   *matHeaderCellDef mat-sort-header>Vendor</mat-header-cell>
                          <mat-cell fxFlex="200px" *matCellDef="let itemList"> {{itemList.dealerName}} </mat-cell>
                      </ng-container>

                      <ng-container matColumnDef="itemNumber">
                            <mat-header-cell class="pull-left" fxFlex="100px"   *matHeaderCellDef mat-sort-header>Item Number</mat-header-cell>
                            <mat-cell fxFlex="100px" *matCellDef="let itemList"> {{itemList.itemNumber}} </mat-cell>
                        </ng-container>

                        <ng-container matColumnDef="itemType">
                                <mat-header-cell class="pull-left" fxFlex="150px"   *matHeaderCellDef mat-sort-header>Item Type</mat-header-cell>
                                <mat-cell fxFlex="150px" *matCellDef="let itemList"> {{itemList.itemType}} </mat-cell>
                            </ng-container>
          
                      <ng-container matColumnDef="dateReported">
                          <mat-header-cell class="pull-left" fxFlex="100px"   *matHeaderCellDef mat-sort-header>Date Received</mat-header-cell>
                          <mat-cell fxFlex="100px" *matCellDef="let itemList"> {{itemList.paymentDate | dateFormatPipe}} </mat-cell>
                      </ng-container>

                      <ng-container matColumnDef="poAmount">
                          <mat-header-cell class="pull-left" fxFlex="150px"   *matHeaderCellDef mat-sort-header>Payment Amount</mat-header-cell>
                          <mat-cell fxFlex="150px" *matCellDef="let itemList"> {{itemList.paymentAmount | currency}} </mat-cell>
                      </ng-container>
            
                 
                     
                          
                      <mat-header-row  *matHeaderRowDef="itemColumns"></mat-header-row>
                      <mat-row *matRowDef="let itemList; columns: itemColumns;"  [ngClass]="{'highlight': selectedRowIndex == itemList.id}"  (click)="onItemRowClicked(itemList)"></mat-row>
                  
                  </mat-table>

                  <mat-paginator 
                  [length]="500"
                  [pageSize]="10"
                  [pageSizeOptions]="[10, 25, 100, 500]">
              </mat-paginator>
          
            
          
              </div>
              
            </div>
          
          
          </div>
          </div>            
          
     

      </main>
    </div>
  </div>

